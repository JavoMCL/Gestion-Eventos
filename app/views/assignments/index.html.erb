<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2>Asignaciones</h2>
    <%= link_to "Nueva Asignación", new_assignment_path, class: "btn btn-success" %>
  </div>

  <% if @assignments.any? %>
    <table class="table table-striped table-bordered">
      <thead class="table-light">
      <tr>
        <th>Evento</th>
        <th>Empleado</th>
        <th>Rol</th>
        <th>Tarea</th>
        <th>Estado</th>
        <th>Acciones</th>
      </tr>
      </thead>
      <tbody>
      <% @assignments.each do |assignment| %>
        <tr>
          <td><%= assignment.event.name %></td>
          <td><%= assignment.employee.name %></td>
          <td><%= assignment.role %></td>
          <td><%= assignment.task %></td>
          <td><%= assignment.state %></td>
          <td>
            <%= link_to "Editar", edit_assignment_path(assignment), class: "btn btn-warning btn-sm" %>
            <%= link_to "Eliminar", assignment_path(assignment),
                        method: :delete,
                        data: { confirm: "¿Eliminar esta asignación?" },
                        class: "btn btn-danger btn-sm" %>
          </td>
        </tr>
      <% end %>
      </tbody>
    </table>
  <% else %>
    <p class="text-muted">No hay asignaciones registradas.</p>
  <% end %>
</div>
